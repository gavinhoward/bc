session_name: bc_afl

windows:
  - window_name: control
    layout: even-horizontal
    panes:
      - shell_command:
        - echo core | doas tee /proc/sys/kernel/core_pattern
        - echo performance | doas tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
        - rm -rf tests/fuzzing/bc_outputs1/
        - rm -rf tests/fuzzing/bc_outputs2/
        - rm -rf tests/fuzzing/dc_outputs/
  - window_name: bc11
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 15
        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p fast -D -M bc11 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc12
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 16
        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p coe -S bc12 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc13
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 17
        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -S bc13 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc14
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 18
        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p explore -S bc14 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc15
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 19
        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -D -S bc15 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc21
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 23
        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p fast -D -M bc21 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc22
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 24
        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p coe -S bc22 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc23
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 25
        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -S bc23 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc24
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 26
        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p explore -S bc24 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: bc25
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset POSIXLY_CORRECT
        - unset BC_BANNER
        - unset BC_ENV_ARGS
        - unset BC_LINE_LENGTH
        - unset BC_SIGINT_RESET
        - unset BC_TTY_MODE
        - unset BC_PROMPT
        - unset BC_EXPR_EXIT
        - unset BC_DIGIT_CLAMP
        - sleep 27
        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -D -S bc25 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
  - window_name: dc11
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset DC_ENV_ARGS
        - unset DC_LINE_LENGTH
        - unset DC_SIGINT_RESET
        - unset DC_TTY_MODE
        - unset DC_PROMPT
        - unset DC_EXPR_EXIT
        - unset DC_DIGIT_CLAMP
        - sleep 28
        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p fast -D -M dc11 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
  - window_name: dc12
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset DC_ENV_ARGS
        - unset DC_LINE_LENGTH
        - unset DC_SIGINT_RESET
        - unset DC_TTY_MODE
        - unset DC_PROMPT
        - unset DC_EXPR_EXIT
        - unset DC_DIGIT_CLAMP
        - sleep 29
        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p coe -S dc12 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
  - window_name: dc13
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset DC_ENV_ARGS
        - unset DC_LINE_LENGTH
        - unset DC_SIGINT_RESET
        - unset DC_TTY_MODE
        - unset DC_PROMPT
        - unset DC_EXPR_EXIT
        - unset DC_DIGIT_CLAMP
        - sleep 30
        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -S dc13 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
  - window_name: dc14
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset DC_ENV_ARGS
        - unset DC_LINE_LENGTH
        - unset DC_SIGINT_RESET
        - unset DC_TTY_MODE
        - unset DC_PROMPT
        - unset DC_EXPR_EXIT
        - unset DC_DIGIT_CLAMP
        - sleep 31
        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p explore -S dc14 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
  - window_name: dc15
    layout: even-horizontal
    panes:
      - shell_command:
        - export AFL_AUTORESUME=1
        - unset DC_ENV_ARGS
        - unset DC_LINE_LENGTH
        - unset DC_SIGINT_RESET
        - unset DC_TTY_MODE
        - unset DC_PROMPT
        - unset DC_EXPR_EXIT
        - unset DC_DIGIT_CLAMP
        - sleep 32
        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -D -S dc15 bin/dc -xC -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
